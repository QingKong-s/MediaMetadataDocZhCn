# 1.ID3v2无障碍增编

## 备注

**本节为译者添加。**

**请注意，此文件基于ID3v2文档翻译并添加内容而来，而非文件的原始版本，若要获取原始版本，请访问<http://www.id3.org>。**

**具体来源为：<https://id3.org/id3v2-accessibility-1.0>**

**若有其他非ID3官网来源，将在其出现的小节列出。**

**译者非音乐或数字多媒体行业专业人士，组织此文档仅用于软件开发，部分机翻错误已纠正，若有专业术语翻译错误或不合理的情况，请提交拉取请求或issue。**

**译者不对本文作任何保证，包括但不限于行文描述准确性的保证，读者应自行评判准确性并对可能因参考本文造成的错误承担一切责任。**

## 1.1.本文件的地位

本文件是ID3v2.3和ID3v2.4标准的拟议附录。本文件的分发不受限制。

## 1.2.摘要

本文件描述了使视力障碍人士能够访问ID3v2元数据的扩展。这种方法也适用于显示能力有限的音频播放器。本文提出了一种新的帧目录类型，它携带的音频片段可对另一个ID3v2帧目录携带的文本信息进行语言表达。

目录

ID3v2 可访问性附录
本文件的状态
摘要
本文档中的约定
简介
拟议的音频-文本帧
非 MPEG 音频格式的扰码方案
注释
版权
参考文献
作者地址

# 2.本文件中的约定

""内的文本为文本字符串，与标签中的文本字符串完全一致。以 $ 开头的数字为十六进制，以 % 开头的数字为二进制。$xx 表示内容未知的字节。%x 用于表示内容未知的位。字节的最重要位(MSB)称为 "第 7 位"，最不重要位(LSB)称为 "第 0 位"。

标签是 ID3v2 主结构文档[2]中描述的整个标签。帧是标签中的一个信息块。标签由标头、帧和可选填充组成。字段是一段信息；一个数值、一个字符串等。数字字符串是仅由字符 "0123456789 "组成的字符串。

本文档中的关键词 "MUST"、"MUST NOT"、"REQUIRED"、"SHALL"、"SHALL NOT"、"SHOULD"、"SHOULD NOT"、"RECOMMENDED"、"MAY "和 "OPTIONAL "应按照 RFC 2119 中的描述进行解释。

# 3.简介

ID3v2标准提供了一种主要是人类可读的文本数据的元数据交付方式。然而，这种形式的信息不便于视障人士访问。

本附录的目的是允许内容提供商或第三方工具提供与ID3v2帧所承载的文本信息等同的音频描述(即有声叙述)。定义了一个新的"音频-文本"帧，其中包含一个音频片段和一个匹配的等效文本字符串。这些文本字符串可与其他ID3v2帧所携带的字符串进行比较，以确定何时有匹配的音频描述。

每当显示或突出显示等效文本信息时，就可以播放音频片段，从而大大改善视障人士的用户界面。不过，该功能也可能受到其他用户的欢迎，对显示能力有限的媒体播放器也很有用。

# 4.拟议的音频-文本帧(ATXT)

该帧的目的是承载一个简短的音频片段，它代表了存在于同一标签中的另一个ID3v2帧所承载的信息。

为避免这些音频片段与文件的主要音频内容相混淆，如果音频片段使用MPEG音频格式，则必须使用ID3v2非同步方案。如果不同步方案不适合音频格式，则必须对音频片段数据采用第5节中定义的[加扰方案]()。

|名称|内容|
|-|-|
|文本编码|`$xx`|
|MIME类型|<文本字符串> `$00`|
|标志|`%0000000a`|
|等效文本|<根据编码的文本字符串> `$00 (00)`|
|音频数据|<二进制数据>|

**MIME类型**应表示为使用ISO-8859-1字符编码的终止字符串。如果MIME类型与MPEG 1/2第I、II和III层、MPEG 2.5或AAC音频相对应，则应将ID3v2非同步方案应用于音频文本帧或包含音频文本帧的标记。对于其他MIME类型，应将附录中定义的加扰方案应用于音频数据。

**标志**的定义如下：

+ `a` 加扰标志<br>如果对音频数据采用了第5节中定义的[加扰方法]()，则应设置该标记；如果未采用加扰方法，则不设置该标记。

**等效文本**字段包含根据ID3v2规范[1]、[2]所定义的文本编码字节编码的空尾字符串。该文本必须在语义上等同于音频片段中的口语叙述，并应与标签中另一个ID3v2帧所使用的文本和编码相匹配。

**音频数据**包含一个提供音频描述的音频片段。音频数据的编码应与MIME类型字段相匹配，如果设置了加扰标志，数据应加扰。

一个标签中可以有多个音频文本帧，但每个音频文本帧必须在"等效文本"字段中携带一个唯一的字符串。

# 5.非MPEG音频格式的加扰方案

这种加扰方案适用于ID3v2规范定义的非同步方案不适用的非MPEG音频格式。音频数据的每个比特与伪随机字节序列的等效比特之间的排他-OR(XOR)关系被扰乱。伪随机字节序列的第一个字节始终为 `%11111110`，用于加扰音频数据的第一个字节。序列的下一个字节通过下表中的算法从序列的当前字节导出，用于扰乱音频数据的下一个字节。此过程重复进行，直到音频片段中的所有字节都被加扰为止。

|第N+1个字节的位|第N个字节的位|
|-|-|
|第7位 =|第6位 XOR 第5位|
|第6位 =|第5位 XOR 第4位|
|第5位 =|第4位 XOR 第3位|
|第4位 =|第3位 XOR 第2位|
|第3位 =|第2位 XOR 第1位|
|第2位 =|第1位 XOR 第0位|
|第1位 =|第7位 XOR 第5位|
|第0位 =|第6位 XOR 第4位|

这种算法会产生一个127位的伪随机序列，每隔127个字节在字节边界上重复一次。要从加扰数据中恢复音频数据，需要重复加扰过程。

# 6.注意事项

如果不根据音频格式使用ID3v2非同步方案或其他加扰方案，很可能会混淆媒体播放器，因为媒体播放器可能会在遇到音频文本帧时而不是在ID3v2标签结束时开始播放。

只支持MPEG音频格式的播放器无需支持为非MPEG格式提供的加扰方案。

不需要提供音频文本帧来表示标签中出现的每个文本字符串。重点应放在帧中常用于识别和描述内容的文本字符串上(如"TIT2"、"TALB"和"TPE1")。

不识别"ATXT"帧的解析器可使用帧头的大小字段跳过这些帧。

编辑ID3标签中的文本字段可能会导致保留不相关的ATXT帧，并在提供音频文本时出现空白，除非采取行动修改相应的ATXT帧。

# 7.版权

**Copyright © 英国广播公司未来媒体与技术，2006. 保留所有权利。**

**本文件及其译文可复制并提供给他人，对本文件进行评论或解释或协助其实施的衍生作品可全部或部分编制、复制、出版和发行，不受任何形式的限制，前提是所有此类副本和衍生作品中必须提及本文件。但是，不得以任何方式修改本文件本身并将其作为原始文件重新发行。**

**上述授予的有限权限永久有效，不得撤销。**

**本文档及其中包含的信息均按"原样"提供，作者不作任何明示或暗示的保证，包括但不限于使用本文档中的信息不会侵犯任何权利的保证，或任何暗示的适销性或特定用途适用性的保证。**

# 8.参考文献

Martin Nilsson, ID3 tag version 2.3.0.

Martin Nilsson, ID3 tag version 2.4.0 - Main Structure.

M. Nilsson, "ID3 tag version 2.4.0 - Native frames.

S. Bradner, "Key words for use in RFCs to Indicate Requirement Levels", RFC 2119, March 1997.

# 9.作者地址

克里斯·纽厄尔(Chris Newell)

英国广播公司研发部 金斯伍德沃伦(Kingswood Warren) 塔德沃斯(Tadworth) 萨里郡(Surrey) KT20 6NP 英国

电子邮件：<chris.newell@rd.bbc.co.uk>
